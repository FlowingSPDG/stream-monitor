refactor: 包括的なコードベースリファクタリング

- N+1クエリ最適化: analytics.rsでCTE+JOINを使用し2箇所のクエリを統合
- エラーハンドリング統一: AppError型とResultExtトレイトを導入
- database/utils.rs改善: dispatch_params!マクロで重複パターンを統合（155行削減）
- 定数の集約: constants.rsに37箇所のマジックナンバー/文字列を抽出
- デッドコード削除: 未使用関数168行を削除
- フロントエンド改善: 共通フックとコンポーネントを追加

純削減: 146行
影響: 29ファイル変更
